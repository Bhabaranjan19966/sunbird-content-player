<html>

<head>
    <script src="https://code.createjs.com/createjs-2015.11.26.min.js">
    </script>
    <script>
    function init() {
        canvas = document.getElementById("myCanvas");
        index = 0;
        color = ["#480000 "];
        stage = new createjs.Stage(canvas);
        stage.autoClear = false;
        stage.enableDOMEvents(true);

        createjs.Touch.enable(stage);
        createjs.Ticker.setFPS(24);

        // var graphics = new createjs.Graphics().beginFill("#ff0000").drawRect(0, 0, 200, 200);
        // var shape = new createjs.Shape(graphics);

        drawingCanvas = new createjs.Shape();

        

        title = new createjs.Text("Draw here", "36px Arial", "#777777");
        title.x = 600;
        title.y = 200;

        stage.addEventListener("stagemousedown", handleMouseDown);
        stage.addEventListener("stagemouseup", handleMouseUp);

        
        stage.addChild(title);
        // stage.addChild(shape);
        stage.addChild(drawingCanvas);
        stage.update();
    }

    function handleMouseDown(event) {
        if (!event.primary) {
            return;
        }
        if (stage.contains(title)) {
            stage.clear();
            stage.removeChild(title);
        }

        stroke = 1;
        oldPt = new createjs.Point(stage.mouseX, stage.mouseY);
        oldMidPt = oldPt.clone();
        stage.addEventListener("stagemousemove", handleMouseMove);
    }

    function handleMouseMove(event) {
        if (!event.primary) {
            return;
        }
        var midPt = new createjs.Point(oldPt.x + stage.mouseX >> 1, oldPt.y + stage.mouseY >> 1);

        drawingCanvas.graphics.clear().setStrokeStyle(stroke, 'round', 'round').beginStroke(color).moveTo(midPt.x, midPt.y).curveTo(oldPt.x, oldPt.y, oldMidPt.x, oldMidPt.y);

        oldPt.x = stage.mouseX;
        oldPt.y = stage.mouseY;

        oldMidPt.x = midPt.x;
        oldMidPt.y = midPt.y;
        
        stage.update();
    }

    function handleMouseUp(event) {
        if (!event.primary) {
            return;
        }
        stage.removeEventListener("stagemousemove", handleMouseMove);
    }
    </script>
</head>

<body onload="init()">
    <canvas id="myCanvas" width="1200" height="700">
</body>

</html>
