!function(){var e=!1,t=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!e&&this.init&&this.init.apply(this,arguments)}var r=this.prototype;e=!0;var s=new this;e=!1;for(var o in n)s[o]="function"==typeof n[o]&&"function"==typeof r[o]&&t.test(n[o])?function(e,t){return function(){var n=this._super;this._super=r[e];var i=t.apply(this,arguments);return this._super=n,i}}(o,n[o]):n[o];return i.prototype=s,i.prototype.constructor=i,i.extend=arguments.callee,i}}(),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("EventBus",[],t):"object"==typeof exports?exports.EventBus=t():e.EventBus=t()}(this,function(){var e={};e=function(){this.listeners={}},e.prototype={addEventListener:function(e,t,n){for(var i=[],r=arguments.length,s=0;s<r;s++)i.push(arguments[s]);i=i.length>3?i.splice(3,i.length-1):[],"undefined"!=typeof this.listeners[e]?this.listeners[e].push({scope:n,callback:t,args:i}):this.listeners[e]=[{scope:n,callback:t,args:i}]},removeEventListener:function(e,t,n){if("undefined"!=typeof this.listeners[e]){for(var i=this.listeners[e].length,r=[],s=0;s<i;s++){var o=this.listeners[e][s];o.scope==n&&o.callback==t||r.push(o)}this.listeners[e]=r}},hasEventListener:function(e,t,n){if("undefined"!=typeof this.listeners[e]){var i=this.listeners[e].length;if(void 0===t&&void 0===n)return i>0;for(var r=0;r<i;r++){var s=this.listeners[e][r];if((!n||s.scope==n)&&s.callback==t)return!0}}return!1},dispatch:function(e,t){for(var n=0,i={type:e,target:t},r=[],s=arguments.length,o=0;o<s;o++)r.push(arguments[o]);if(r=r.length>2?r.splice(2,r.length-1):[],r=[i].concat(r),"undefined"!=typeof this.listeners[e])for(var a=this.listeners[e].length,o=0;o<a;o++){var c=this.listeners[e][o];if(c&&c.callback){var u=r.concat(c.args);c.callback.apply(c.scope,u),n+=1}}},getEvents:function(){var e="";for(var t in this.listeners)for(var n=this.listeners[t].length,i=0;i<n;i++){var r=this.listeners[t][i];e+=r.scope&&r.scope.className?r.scope.className:"anonymous",e+=" listen for '"+t+"'\n"}return e}};var t=new e;return t}),window.org={ekstep:{}};var plugin_framework=function(){};plugin_framework.prototype.initialize=function(e){if(e=e||{},org.ekstep.pluginframework.config=org.ekstep.pluginframework.config||{},!e.env)throw"Framework should be initialized with environment!";org.ekstep.pluginframework.env=e.env,org.ekstep.pluginframework.jQuery=e.jQuery||window.$,org.ekstep.pluginframework.async=e.async||window.async,e.build_number&&(org.ekstep.pluginframework.config.build_number=e.build_number),e.pluginRepo&&(org.ekstep.pluginframework.config.pluginRepo=e.pluginRepo),e.repos&&e.repos.forEach(function(e,t){org.ekstep.pluginframework.resourceManager.addRepo(e,t)}),org.ekstep.pluginframework.resourceManager.addRepo(org.ekstep.pluginframework.publishedRepo)},window.org.ekstep.pluginframework=new plugin_framework,plugin_framework=void 0;var services_framework=function(){};window.org.ekstep.services=new services_framework,services_framework=void 0,org.ekstep.pluginframework.resourceManager=new(Class.extend({init:function(){},buildNumber:void 0,registeredRepos:[],initialize:function(){},discoverManifest:function(e,t,n,i){var r=[];this.registeredRepos.forEach(function(n,s){var o=function(){return 0==s?function(r){n.discoverManifest(e,t,r,i)}:function(r,s){void 0==r.manifest?n.discoverManifest(e,t,s,i):s(null,r)}};r.push(o())}),org.ekstep.pluginframework.async.waterfall(r,function(e,t){void 0!==t.manifest?n(void 0,t):n("Plugin not found in any repo or manifest",void 0)})},addRepo:function(e,t){var n=this.registeredRepos.find(function(t){return t.id==e.id});n?console.error(e.id+": Repo already registered!"):t>=0?this.registeredRepos.splice(t,0,e):this.registeredRepos.push(e)},getResource:function(e,t,n,i,r,s,o){var a=r.resolveResource(e,t,n);this.loadResource(a,i,s,o)},loadExternalResource:function(e,t,n,i,r,s,o){var a=r.resolveResource(t,n,i)+"?"+(s||"");switch(e){case"js":o?this.loadResource(a,"script",o,s):org.ekstep.pluginframework.jQuery("body").append($("<script type='text/javascript' src="+a+">"));break;case"css":org.ekstep.pluginframework.jQuery("head").append("<link rel='stylesheet' type='text/css' href='"+a+"'>"),o&&o()}},loadResource:function(e,t,n,i){e=e+"?"+(org.ekstep.pluginframework.config?org.ekstep.pluginframework.config.build_number:""),i&&(e=e+"&"+i),org.ekstep.pluginframework.jQuery.ajax({async:!1,url:e,dataType:t}).fail(function(e){n(e)}).done(function(e){n(null,e)})}})),org.ekstep.pluginframework.eventManager=new(Class.extend({enableEvents:!0,addEventListener:function(e,t,n){EventBus.addEventListener(e,t,n)},dispatchEvent:function(e,t,n){this.enableEvents&&EventBus.dispatch(e,n,t)},removeEventListener:function(e,t,n){EventBus.removeEventListener(e,t,n)}})),org.ekstep.pluginframework.pluginManager=new(Class.extend({plugins:{},pluginObjs:{},pluginInstances:{},errors:[],init:function(){console.log("Plugin manager initialized")},registerPlugin:function(e,t,n){n=n||org.ekstep.pluginframework.publishedRepo,this._registerNameSpace(e.id,t),this.plugins[e.id]={p:t,m:e,repo:n};var i=new t(e);this.pluginObjs[e.id]=i,org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:load",{plugin:e.id,version:e.ver}),org.ekstep.pluginframework.eventManager.dispatchEvent(e.id+":load")},loadPlugin:function(e,t,n){var i=this;this.plugins[e]?console.log('A plugin with id "'+e+'" and ver "'+t+'" is already loaded'):org.ekstep.pluginframework.resourceManager.discoverManifest(e,t,function(r,s){r||void 0==s?console.error("Unable to load plugin manifest","plugin:"+e+"-"+t,"Error:",r):(i.loadDependencies(s.manifest,s.repo,n),i.loadPluginByManifest(s.manifest,s.repo,n))},n)},loadDependencies:function(e,t,n){var i=this;Array.isArray(e[org.ekstep.pluginframework.env].dependencies)&&e[org.ekstep.pluginframework.env].dependencies.forEach(function(r){"plugin"==r.type?i.loadPlugin(r.plugin,r.ver,n):org.ekstep.pluginframework.resourceManager.loadExternalResource(r.type,e.id,e.ver,r.src,t,n)})},loadPluginByManifest:function(manifest,repo,publishedTime){var instance=this;org.ekstep.pluginframework.resourceManager.getResource(manifest.id,manifest.ver,manifest[org.ekstep.pluginframework.env].main,"text",repo,function(err,data){if(err)console.error("Unable to load editor plugin","plugin:"+manifest.id+"-"+manifest.ver,"resource:"+manifest[org.ekstep.pluginframework.env].main,"Error:",err);else try{instance.registerPlugin(manifest,eval(data),repo)}catch(e){console.error("Error while loading plugin","plugin:"+manifest.id+"-"+manifest.ver,"Error:",e)}},publishedTime)},_registerNameSpace:function(e,t){var n=e.split("."),i=n[0];n.splice(0,1),n=n.join("."),window[i]||(window[i]={});var r=Class.extend({init:function(t,n,i){org.ekstep.pluginframework.pluginManager.invoke(e,t,n,i)}});r.extend=function(e){return t.extend(e)},window[i]=window[i]||{},window[i].names=r},loadAndInitPlugin:function(e,t,n,i){if(this.loadPluginWithDependencies(e,t,n),this.isDefined(e)){var r=this.getPluginManifest(e);return r.type&&"widget"===r.type.toLowerCase()&&this.invoke(e,JSON.parse(JSON.stringify(r[org.ekstep.pluginframework.env]["init-data"]||{})),i),0}return 1},loadPluginWithDependencies:function(e,t,n){var i=this;this.plugins[e]?console.log('A plugin with id "'+e+'" and ver "'+t+'" is already loaded'):org.ekstep.pluginframework.resourceManager.discoverManifest(e,t,function(r,s){if(r||void 0==s)console.error("Unable to load plugin manifest","plugin:"+e+"-"+t,"Error:",r);else{var o=i.queueDependencies(s.manifest,s.repo,n);o.length()>0?o.drain=function(){i.loadPluginByManifest(s.manifest,s.repo,n)}:i.loadPluginByManifest(s.manifest,s.repo,n)}},n)},queueDependencies:function(e,t,n){var i=org.ekstep.pluginframework.async.queue(function(e,t){org.ekstep.pluginframework.resourceManager.loadExternalResource(e.type,e.id,e.ver,e.src,e.repo,e.publishedTime,t)},1),r=this;return Array.isArray(e[org.ekstep.pluginframework.env].dependencies)&&e[org.ekstep.pluginframework.env].dependencies.forEach(function(s){"plugin"==s.type?r.loadPluginWithDependencies(s.plugin,s.ver,n):i.push({type:s.type,id:e.id,ver:e.ver,src:s.src,repo:t,publishedTime:n},function(){})}),i},isDefined:function(e){return!!this.plugins[e]},invoke:function(e,t,n,i){var r=this,s=void 0,o=this.plugins[e];if(o){var a=i?o.p.extend(i):o.p,c=o.m;try{Array.isArray(t)?t.forEach(function(e){s=new a(c,e,n),r.addPluginInstance(s),s.initPlugin(),org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:add",{plugin:c.id,version:c.ver,instanceId:s.id}),org.ekstep.pluginframework.eventManager.dispatchEvent(c.id+":add")}):(s=new a(c,t,n),r.addPluginInstance(s),s.initPlugin(),org.ekstep.pluginframework.eventManager.dispatchEvent("plugin:add",{plugin:c.id,version:c.ver,instanceId:s.id}),org.ekstep.pluginframework.eventManager.dispatchEvent(c.id+":add"))}catch(e){throw delete r.pluginInstances[s.id],e}}else this.addError("No plugin found for - "+e);return s},addPluginInstance:function(e){this.pluginInstances[e.id]=e},removePluginInstance:function(e){e&&e.remove()},getPluginInstance:function(e){return this.pluginInstances[e]},getPluginManifest:function(e){var t=this.plugins[e];return t?t.m:void 0},addError:function(e){this.errors.push(e)},getErrors:function(){return this.errors},cleanUp:function(){this.pluginInstances={},this.plugins={},this.errors=[]},getPlugins:function(){return Object.keys(this.plugins)},getPluginType:function(e){return this.pluginInstances[e]?this.pluginInstances[e].getType():""},loadAllPlugins:function(e,t){org.ekstep.pluginframework.jQuery.isEmptyObject(e)&&t();var n=this,i=org.ekstep.pluginframework.async.queue(function(e,t){n.loadPlugin(e.key,e.value),t()},6);i.drain=function(){t()};for(var r in e)i.push({key:r,value:e[r]},function(e){})},loadPluginResource:function(e,t,n,i,r){this.plugins[e]?org.ekstep.pluginframework.resourceManager.getResource(e,t,n,i,this.plugins[e].repo,r):r(new Error("unable load plugin resource "+n),void 0)},getPluginVersion:function(e){return this.pluginInstances[e]?this.pluginInstances[e].getVersion():""},resolvePluginResource:function(e,t,n){return!(!this.plugins[e]||!this.plugins[e].repo)&&this.plugins[e].repo.resolveResource(e,t,n)}})),org.ekstep.pluginframework.keyboardManager=new(Class.extend({registry:{},init:function(){var e=this;document.addEventListener("keydown",function(t){e.resolveKeyCombination(t)})},registerKeyCombination:function(e,t){if(commands=e.toUpperCase().split("+").map(function(e){return e.trim()}),commands.length>4)throw"Cannot register a command with more than 3 keys";var n=(commands.indexOf("CTRL")!=-1||commands.indexOf("CMD")!=-1?"ctrl":"")+(commands.indexOf("SHIFT")!=-1?"shift":"")+(commands.indexOf("ALT")!=-1?"alt":"");if(commands=commands.filter(function(e){return["CTRL","CMD","ALT","SHIFT"].indexOf(e)==-1}),0==commands.length)throw"Cannot register a command only with modifier keys. Need one key character";if(1!=commands.length)throw"Cannot register a command with multiple key characters";if(n+="DEL"===commands[0]?8:commands[0].charCodeAt(0),this.registry[n])throw"The given key combination is already registered. Please provide a different combination";this.registry[n]=t},resolveKeyCombination:function(e){var t=(e.metaKey||e.ctrlKey?"ctrl":"")+(e.shiftKey?"shift":"")+(e.altKey?"alt":"")+e.keyCode;this.registry[t]&&this.registry[t]()}})),org.ekstep.services.iService=Class.extend({getBaseURL:function(){return org.ekstep.services.config.baseURL},getAPISlug:function(){return org.ekstep.services.config.apislug},init:function(e){this.initService(e)},initService:function(e){},_dispatchTelemetry:function(e){var t=e.res.responseCode||e.res.statusText;org.ekstep.services.telemetryService.apiCall({path:e.url,method:e.method,request:e.request,response:"",responseTime:e.res.responseTime,status:t,uip:""})},get:function(e,t,n){var i,r=this;if(t=t||{},t.headers=t.headers||{},"function"!=typeof n)throw"iservice expects callback to be function";org.ekstep.pluginframework.jQuery.ajax({type:"GET",url:e,headers:t.headers,beforeSend:function(e,t){i=(new Date).getTime()},success:function(t){t.responseTime=(new Date).getTime()-i,r._dispatchTelemetry({url:e,method:"GET",request:"",res:t}),t={data:t},n(null,t)},error:function(t){t.responseTime=(new Date).getTime()-i,n(t,null),r._dispatchTelemetry({url:e,method:"GET",request:"",res:t})}})},post:function(e,t,n,i){var r,s=this;if(t=t||{},n=n||{},n.headers=n.headers||{},"function"!=typeof i)throw"iservice expects callback to be function";"object"==typeof t&&(t=JSON.stringify(t)),org.ekstep.pluginframework.jQuery.ajax({type:"POST",url:e,data:t,headers:n.headers,beforeSend:function(e,t){r=(new Date).getTime()},success:function(n){n.responseTime=(new Date).getTime()-r,s._dispatchTelemetry({url:e,method:"POST",request:t,res:n}),n={data:n},i(null,n)},error:function(n){n.responseTime=(new Date).getTime()-r,i(n,null),s._dispatchTelemetry({url:e,method:"POST",request:t,res:n})}})},patch:function(e,t,n,i){var r,s=this;if(t=t||{},n=n||{},n.headers=n.headers||{},"function"!=typeof i)throw"iservice expects callback to be function";"object"==typeof t&&(t=JSON.stringify(t)),org.ekstep.pluginframework.jQuery.ajax({type:"PATCH",url:e,data:t,headers:n.headers,beforeSend:function(e,t){r=(new Date).getTime()},success:function(n){n.responseTime=(new Date).getTime()-r,s._dispatchTelemetry({url:e,method:"PATCH",request:t,res:n}),n={data:n},i(null,n)},error:function(n){n.responseTime=(new Date).getTime()-r,i(n,null),s._dispatchTelemetry({url:e,method:"PATCH",request:t,res:n})}})},postFromService:function(e,t,n,i){this.post(e,JSON.stringify(t),n,function(e,t){i(e,t)})},getFromService:function(e,t,n){this.get(e,t,function(e,t){n(e,t)})}}),org.ekstep.services.contentService=new(org.ekstep.services.iService.extend({serviceURL:function(){return this.getBaseURL()+this.getAPISlug()+"/learning/"},content:{},initService:function(){},contentFields:"body,editorState,stageIcons,templateId,languageCode,template,gradeLevel,status,concepts,versionKey,name,appIcon,contentType,owner,domain,code,visibility,portalOwner,description,language,mediaType,mimeType,osId,languageCode,createdOn,lastUpdatedOn",requestHeaders:{headers:{"content-type":"application/json","user-id":"content-editor"}},_setContentMeta:function(e,t){if(e&&t){var n={};for(k in t)"body"!=k&&"stageIcons"!=k&&(n[k]=t[k]);this.content[e]=n}},getContentMeta:function(e){return this.content[e]||{}},saveContent:function(e,t,n,i){this._saveContent(e,t,n,i)},_saveContent:function(e,t,n,i){var r=this,s=r.content[e]&&r.content[e].versionKey;if(e&&s){var o=!1,a={versionKey:s};if(t){o=!0;for(k in t)a[k]=t[k]}if(n&&(a.body=JSON.stringify(n),o=!0),o){var c={headers:{"content-type":"application/json","user-id":"ATTool"}},u={request:{content:a}};r.patch(this.serviceURL()+"v2/content/"+e,u,c,function(t,n){n&&(r.content[e].versionKey=n.data.result.versionKey),i(t,n)})}else i("Nothing to save")}else i("Cannot find content id or version key to update content")},getContent:function(e,t){var n=this;if(e){var i="?mode=edit&fields="+n.contentFields;n.get(this.serviceURL()+"v2/content/"+e+i,{},function(i,r){i&&t(i,void 0),!i&&r.data&&r.data.result&&r.data.result.content?(n._setContentMeta(e,r.data.result.content),t(i,r.data.result.content)):t(new Error("no content found!"),void 0)})}else t("Content id is required to get content from platform",void 0)},getTemplateData:function(e,t){var n=this,i="?taxonomyId=literacy_v2&fields=body,editorState,templateId,languageCode";n.get(this.serviceURL()+"v2/content/"+e+i,this.requestHeaders,function(e,n){t(e,n)})},downloadContent:function(e,t,n){var i={request:{content_identifiers:[e],file_name:t}};this.postFromService(this.serviceURL()+"v2/content/bundle",i,this.requestHeaders,n)}})),org.ekstep.services.telemetryService=new(org.ekstep.services.iService.extend({context:{},dispatchers:[],initialized:!0,start_event:void 0,startEventData:void 0,initialize:function(e,t){var n=this;this.context=e,void 0==this.context.cdata&&(this.context.cdata=[]),void 0!=this.context.uid&&void 0!=this.context.sid&&void 0!=this.context.content_id||(console.error("Unable to instantiate telemetry service"),this.initialized=!1),t||this.addDispatcher(t),window.addEventListener("beforeunload",function(){n.end()}),this.startEventData={defaultPlugins:Object.keys(org.ekstep.pluginframework.pluginManager.plugins),loadtimes:{},client:{}}},startEvent:function(e){var t=this;return{getData:function(){return t.startEventData},append:function(n,i){for(var r in i)t.startEventData[n][r]=i[r];e&&t.start()}}},getDispatcher:function(e){switch(e){case"local":return org.ekstep.pluginframework.localDispatcher;case"piwik":return org.ekstep.pluginframework.piwikDispatcher;default:return org.ekstep.pluginframework.consoleDispatcher}},addDispatcher:function(e){var t=this.getDispatcher(e),n=this.dispatchers.find(function(e){return e.type===t.type});n||this.dispatchers.push(t)},_dispatch:function(e){this.initialized&&this.dispatchers.forEach(function(t){t.dispatch(e)})},getEvent:function(e,t){return{eid:e,ets:(new Date).getTime(),ver:"1.0",pdata:{id:"ATTool",pid:"ContentEditor",ver:"2.0"},cdata:this.context.cdata,uid:this.context.uid,context:{sid:this.context.sid,content_id:this.context.content_id},rid:"",edata:{eks:t},tags:[]}},hasRequiredData:function(e,t){var n=!0;return t.forEach(function(t){e.hasOwnProperty(t)||(n=!1)}),n},interactRequiredFields:["type","subtype","target","pluginid","pluginver","objectid","stage"],lifecycleRequiredFields:["type","pluginid","pluginver","objectid","stage"],errorRequiredFields:["env","stage","action","err","type","data","severity"],apiCallRequiredFields:["path","method","request","response","responseTime","status","uip"],interact:function(e){return this.hasRequiredData(e,this.interactRequiredFields)?void this._dispatch(this.getEvent("CE_INTERACT",e)):void console.error("Invalid interact data")},end:function(){var e=this.getEvent("CE_END",{});e.edata.eks.duration=(new Date).getTime()-this.start_event.ets,this._dispatch(e)},pluginLifeCycle:function(e){return this.hasRequiredData(e,this.lifecycleRequiredFields)?void this._dispatch(this.getEvent("CE_PLUGIN_LIFECYCLE",e)):void console.error("Invalid plugin lifecycle event data")},error:function(e){return this.hasRequiredData(e,this.errorRequiredFields)?void this._dispatch(this.getEvent("CE_ERROR",e)):void console.error("Invalid error data")},start:function(){this.startEventData.client=this.detectClient(),this.start_event=this.getEvent("CE_START",this.startEventData),this._dispatch(this.start_event)},apiCall:function(e){return this.hasRequiredData(e,this.apiCallRequiredFields)?void this._dispatch(this.getEvent("CE_API_CALL",e)):void console.error("Invalid api call data")},detectClient:function(){var e,t,n=navigator.userAgent,i=navigator.appName,r=""+parseFloat(navigator.appVersion);return(e=n.indexOf("Opera"))!=-1?(i="opera",r=n.substring(e+6),(e=n.indexOf("Version"))!=-1&&(r=n.substring(e+8))):(e=n.indexOf("MSIE"))!=-1?(i="IE",r=n.substring(e+5)):(e=n.indexOf("Chrome"))!=-1?(i="chrome",r=n.substring(e+7)):(e=n.indexOf("Safari"))!=-1?(i="safari",r=n.substring(e+7),(e=n.indexOf("Version"))!=-1&&(r=n.substring(e+8))):(e=n.indexOf("Firefox"))!=-1&&(i="firefox",r=n.substring(e+8)),(t=r.indexOf(";"))!=-1&&(r=r.substring(0,t)),(t=r.indexOf(" "))!=-1&&(r=r.substring(0,t)),{browser:i,browserver:r,os:navigator.platform}}})),org.ekstep.services.assessmentService=new(org.ekstep.services.iService.extend({learningURL:function(){return this.getBaseURL()+this.getAPISlug()+"/learning/"},requestHeaders:{headers:{"content-type":"application/json","user-id":"content-editor"}},getQuestions:function(e,t){org.ekstep.services.searchService.search(e,t)},getItem:function(e,t){this.getFromService(this.learningURL()+"v1/assessmentitem/"+e,this.requestHeaders,t)},getTemplate:function(e,t){org.ekstep.services.contentService.getTemplateData(e,t)}})),org.ekstep.services.assetService=new(org.ekstep.services.iService.extend({learningURL:function(){return this.getBaseURL()+this.getAPISlug()+"/learning/"},asset:{},requestHeaders:{headers:{"content-type":"application/json","user-id":"content-editor"}},initService:function(){},setAssetMeta:function(e,t){e&&t&&(void 0==this.asset[e]&&(this.asset[e]={}),this.asset[e].assetMeta=t)},getAssetMeta:function(e){return this.asset[e]||{}},saveAsset:function(e,t,n){var i=this,r={request:{content:t}};e?i.patch(this.learningURL()+"v2/content/",r,this.requestHeaders,function(e,t){n(e,t)}):i.post(this.learningURL()+"v2/content",r,this.requestHeaders,function(e,t){n(e,t)})}})),org.ekstep.services.metaService=new(org.ekstep.services.iService.extend({learningURL:function(){return this.getBaseURL()+this.getAPISlug()+"/learning/"},configURL:function(){return this.getBaseURL()+"/api/config/"},requestHeaders:{headers:{"content-type":"application/json","user-id":"content-editor"}},getDefinitions:function(e,t){this.getFromService(this.learningURL()+"taxonomy/domain/definition/"+e,this.requestHeaders,t)},getResourceBundles:function(e,t){this.getFromService(this.configURL()+"v2/config/resourcebundles/"+e,this.requestHeaders,t)}})),org.ekstep.services.languageService=new(org.ekstep.services.iService.extend({learningURL:function(){return this.getBaseURL()+this.getAPISlug()+"/learning/"},languageURL:function(){return this.getBaseURL()+this.getAPISlug()+"/language/"},requestHeaders:{headers:{"content-type":"application/json","user-id":"content-editor"}},wordHeaders:{headers:{"Content-Type":"application/json",Authorization:"Bearer eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiI5OGNlN2RmNmNkOTk0YWQ5YjZlYTRjNDJlNmVjYjY5MCJ9.rtr4188EwDYZywtP7S9uuv1LsivoucFxOvJFDCWvq0Y"}},getLanguages:function(e){this.getFromService(this.learningURL()+"v1/language",this.requestHeaders,e)},getVowel:function(e,t){this.getFromService(this.languageURL()+"v1/language/dictionary/varna/Vowel/list/"+e,this.requestHeaders,t)},getConsonant:function(e,t){this.getFromService(this.languageURL()+"v1/language/dictionary/varna/Consonant/list/"+e,this.requestHeaders,t)},getWords:function(e,t){this.postFromService(this.languageURL()+"v2/language/search",e,this.wordHeaders,t)},getWordDefinition:function(e){this.getFromService(this.learningURL()+"taxonomy/en/definition/Word",this.requestHeaders,e)},getKeyWords:function(e,t){this.postFromService(this.languageURL()+"v1/language/parser",e,this.requestHeaders,t)},getTransliteration:function(e,t){this.getFromService(this.getBaseURL()+"/api/language/v2/language/transliteration/"+e.text+"?languages="+e.languages.toString(),this.requestHeaders,t)},getTranslation:function(e,t){this.getFromService(this.getBaseURL()+"/api/language/v2/language/translations/"+e.wordLang+"/"+e.word+"?languages="+e.languages,this.requestHeaders,t)}})),org.ekstep.services.searchService=new(org.ekstep.services.iService.extend({searchURL:function(){return this.getBaseURL()+this.getAPISlug()+"/search/"},requestHeaders:{headers:{"content-type":"application/json","user-id":"content-editor"}},initService:function(){},search:function(e,t){this.postFromService(this.searchURL()+"v2/search",e,this.requestHeaders,t)}})),org.ekstep.pluginframework.iRepo=Class.extend({discoverManifest:function(e,t,n){n(void 0,void 0)},resolveResource:function(e,t,n){}}),org.ekstep.pluginframework.publishedRepo=new(org.ekstep.pluginframework.iRepo.extend({id:"published",discoverManifest:function(e,t,n,i){var r=this;org.ekstep.pluginframework.resourceManager.loadResource(this.resolveResource(e,t,"manifest.json"),"json",function(e,t){n(void 0,{manifest:t,repo:r})},i)},resolveResource:function(e,t,n){return org.ekstep.pluginframework.config.pluginRepo+"/"+e+"-"+t+"/"+n}})),org.ekstep.pluginframework.IDispatcher=Class.extend({init:function(){this.initDispatcher()},initDispatcher:function(){throw"Subclass should implement initDispatcher"},dispatch:function(e){throw"Subclass should implement dispatch"}}),org.ekstep.pluginframework.consoleDispatcher=new(org.ekstep.pluginframework.IDispatcher.extend({type:"consoleDispatcher",initDispatcher:function(){},dispatch:function(e){console.log(e)}})),org.ekstep.pluginframework.localDispatcher=new(org.ekstep.pluginframework.IDispatcher.extend({type:"localDispatcher",initDispatcher:function(){},dispatch:function(e){org.ekstep.pluginframework.jQuery.ajax({type:"POST",url:"telemetry",data:e,success:function(e){}})}})),org.ekstep.pluginframework.piwikDispatcher=new(org.ekstep.pluginframework.IDispatcher.extend({type:"piwikDispatcher",piwikEndPoint:function(){return org.ekstep.services.config.baseURL+"/piwik/piwik.php"},idsite:1,initDispatcher:function(){},dispatch:function(e){if(e)try{e="string"==typeof e?e:JSON.stringify(e),org.ekstep.pluginframework.jQuery.post(this.piwikEndPoint()+"?idsite="+this.idsite+"&url="+org.ekstep.services.config.absURL+location.pathname+"&e_c=ContentEditor&e_a="+e+"&rec=1",function(){}).fail(function(){console.log("error: while piwik dispatch")})}catch(e){console.log("error: piwik event cannot be stringify",e)}}}));